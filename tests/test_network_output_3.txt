============================= test session starts =============================
platform win32 -- Python 3.13.5, pytest-8.3.4, pluggy-1.5.0
rootdir: d:\VS_Code\dev-newtutils
configfile: pyproject.toml
plugins: anyio-4.7.0
collected 7 items

test_network.py 
START=======================================
=====captured.out=====
Function: test_fetch_data_from_url_success
--------------------------------------------
Full URL: https://example.com
Status: 200 | Response time: 0.000 seconds
result: Lorem ipsum dolor sit ame

=====captured.err=====
(no stderr captured)
END=========================================
.
START=======================================
=====captured.out=====
Function: test_fetch_data_from_url_with_params
--------------------------------------------
Full URL: https://example.com?key=value
Status: 200 | Response time: 0.000 seconds
result: Lorem ipsum dolor sit ame
call_kwargs: {'params': {'key': 'value', 'num': '123'}, 'headers': {'User-Agent': 'Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/138.0.0.0 Safari/537.36'}, 'timeout': 45}

=====captured.err=====
(no stderr captured)
END=========================================
.
START=======================================
=====captured.out=====
Function: test_fetch_data_from_url_with_custom_headers
--------------------------------------------
Full URL: https://example.com
Status: 200 | Response time: 0.000 seconds
result: Lorem ipsum dolor sit ame
call_kwargs: {'params': None, 'headers': {'User-Agent': 'Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/138.0.0.0 Safari/537.36', 'Authorization': 'Bearer token'}, 'timeout': 45}

=====captured.err=====
(no stderr captured)
END=========================================
.
START=======================================
=====captured.out=====
Function: test_fetch_data_from_url_status_206
--------------------------------------------
Full URL: https://example.com
Status: 206 | Response time: 0.000 seconds
result: Partial Lorem ipsum dolor sit ame

=====captured.err=====
(no stderr captured)
END=========================================
.
START=======================================
=====captured.out=====
Function: test_fetch_data_from_url_status_404
--------------------------------------------
Full URL: https://example.com/notfound
Status: 404 | Response time: 0.000 seconds
[1m [31m
Location: Newt.network.fetch_data_from_url
::: ERROR :::
HTTP 404 for https://example.com/notfound
[0m
result: None

=====captured.err=====
(no stderr captured)
END=========================================
.
START=======================================
=====captured.out=====
Function: test_fetch_data_from_url_status_500
--------------------------------------------
Full URL: https://example.com
Status: 500 | Response time: 0.000 seconds
[1m [31m
Location: Newt.network.fetch_data_from_url
::: ERROR :::
HTTP 500 for https://example.com
[0m

=====captured.err=====
(no stderr captured)
END=========================================
.
START=======================================
=====captured.out=====
Function: test_fetch_data_from_url_timeout
--------------------------------------------
[1m [31m
Location: Newt.network.fetch_data_from_url
::: ERROR :::
ReadTimeout: Timeout
Timeout (45s) for https://example.com
Request failed after 0.00s
[0m
result: None

=====captured.err=====
(no stderr captured)
END=========================================
.

============================== 7 passed in 0.40s ==============================
